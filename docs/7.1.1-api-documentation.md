# E-Commerce Analytics Platform - API Documentation

## Overview

The E-Commerce Analytics Platform (ECAP) provides a comprehensive REST API built with FastAPI that enables access to real-time analytics, fraud detection, customer insights, and business intelligence data. The API follows RESTful principles with proper authentication, caching, and error handling.

## Base Information

- **Base URL**: `http://localhost:8000`
- **API Version**: v1
- **Documentation**: `http://localhost:8000/docs` (Swagger UI)
- **Alternative Documentation**: `http://localhost:8000/redoc` (ReDoc)
- **OpenAPI Specification**: `http://localhost:8000/openapi.json`

## Authentication

The API uses multiple authentication methods to provide flexible access control:

### 1. JWT Token Authentication

**Endpoint**: `POST /api/v1/auth/login`

**Request Body**:
```json
{
  "username": "analyst_user",
  "password": "SecurePassword123!"
}
```

**Response**:
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer",
  "expires_in": 3600,
  "user": {
    "id": 1,
    "username": "analyst_user",
    "email": "analyst@example.com",
    "role": "analyst",
    "permissions": ["read:analytics", "read:customers"]
  }
}
```

**Usage**:
```bash
# Include in request headers
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 2. API Key Authentication

**Create API Key**: `POST /api/v1/auth/api-keys`

**Request Body**:
```json
{
  "name": "Dashboard Integration",
  "description": "API key for main dashboard",
  "permissions": ["read:analytics", "read:customers"],
  "expires_at": "2024-12-31T23:59:59Z"
}
```

**Response**:
```json
{
  "id": "api_key_123",
  "key": "ecap_live_1234567890abcdef...",
  "name": "Dashboard Integration",
  "permissions": ["read:analytics", "read:customers"],
  "created_at": "2024-01-15T10:00:00Z",
  "expires_at": "2024-12-31T23:59:59Z"
}
```

**Usage**:
```bash
# Include in request headers
X-API-Key: ecap_live_1234567890abcdef...
```

### 3. OAuth2 Integration

The API supports OAuth2 flows for third-party integrations:

```bash
# Authorization URL
GET /api/v1/auth/oauth/authorize?client_id=CLIENT_ID&response_type=code&redirect_uri=CALLBACK_URL

# Token exchange
POST /api/v1/auth/oauth/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&code=AUTH_CODE&client_id=CLIENT_ID&client_secret=CLIENT_SECRET
```

## User Roles and Permissions

### Roles

| Role | Description | Default Permissions |
|------|-------------|-------------------|
| `admin` | System administrator | All permissions |
| `analyst` | Data analyst | Read analytics, customers, fraud, BI |
| `viewer` | Read-only user | Read analytics, customers |
| `api_user` | API integration | Configurable permissions |

### Permissions

| Permission | Description |
|------------|-------------|
| `read:analytics` | View analytics data |
| `write:analytics` | Create/update analytics |
| `read:customers` | View customer data |
| `write:customers` | Create/update customers |
| `read:fraud` | View fraud detection data |
| `write:fraud` | Manage fraud cases |
| `manage:fraud_rules` | Configure fraud rules |
| `read:business_intelligence` | View BI reports |
| `export:data` | Export data to files |
| `manage:users` | User management |
| `manage:system` | System administration |

## Core Endpoints

### Health and System

#### Health Check
```http
GET /health
```

**Response**:
```json
{
  "status": "healthy",
  "version": "1.0.0",
  "environment": "production",
  "timestamp": "2024-01-15T10:00:00Z"
}
```

#### System Metrics
```http
GET /metrics
```

**Response**: Prometheus-formatted metrics for monitoring

#### API Information
```http
GET /
```

**Response**:
```json
{
  "message": "Welcome to E-Commerce Analytics Platform API",
  "version": "1.0.0",
  "documentation": "http://localhost:8000/docs",
  "health": "http://localhost:8000/health"
}
```

## Analytics Endpoints

### Revenue Analytics

#### Get Revenue Overview
```http
GET /api/v1/analytics/revenue/overview
```

**Query Parameters**:
- `start_date` (string): Start date (YYYY-MM-DD)
- `end_date` (string): End date (YYYY-MM-DD)
- `granularity` (string): `daily`, `weekly`, `monthly`

**Example Request**:
```bash
curl -X GET "http://localhost:8000/api/v1/analytics/revenue/overview?start_date=2024-01-01&end_date=2024-01-31&granularity=daily" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**Response**:
```json
{
  "summary": {
    "total_revenue": 125000.50,
    "period_growth": 12.5,
    "average_order_value": 85.30,
    "total_orders": 1465
  },
  "time_series": [
    {
      "date": "2024-01-01",
      "revenue": 4250.00,
      "orders": 52,
      "aov": 81.73
    }
  ],
  "metadata": {
    "period": "2024-01-01 to 2024-01-31",
    "granularity": "daily",
    "currency": "USD"
  }
}
```

#### Get Revenue by Product Category
```http
GET /api/v1/analytics/revenue/by-category
```

**Response**:
```json
{
  "categories": [
    {
      "category": "Electronics",
      "revenue": 45000.00,
      "percentage": 36.0,
      "growth": 15.2
    },
    {
      "category": "Clothing",
      "revenue": 35000.00,
      "percentage": 28.0,
      "growth": 8.7
    }
  ],
  "total_revenue": 125000.50
}
```

### Product Analytics

#### Get Top Products
```http
GET /api/v1/analytics/products/top
```

**Query Parameters**:
- `metric` (string): `revenue`, `quantity`, `profit`
- `limit` (integer): Number of products (default: 10)
- `start_date`, `end_date`: Date range

**Response**:
```json
{
  "products": [
    {
      "product_id": "PROD_001",
      "name": "Wireless Headphones",
      "revenue": 15000.00,
      "quantity_sold": 300,
      "avg_price": 50.00,
      "growth_rate": 25.5
    }
  ],
  "metadata": {
    "metric": "revenue",
    "period": "2024-01-01 to 2024-01-31"
  }
}
```

#### Get Product Performance
```http
GET /api/v1/analytics/products/{product_id}/performance
```

**Response**:
```json
{
  "product_id": "PROD_001",
  "name": "Wireless Headphones",
  "performance": {
    "revenue": 15000.00,
    "units_sold": 300,
    "conversion_rate": 5.2,
    "return_rate": 2.1,
    "profit_margin": 35.0
  },
  "trends": {
    "revenue_trend": "increasing",
    "velocity_trend": "stable",
    "inventory_status": "healthy"
  }
}
```

### Geographic Analytics

#### Get Sales by Region
```http
GET /api/v1/analytics/geographic/sales-by-region
```

**Response**:
```json
{
  "regions": [
    {
      "region": "North America",
      "country": "United States",
      "revenue": 75000.00,
      "orders": 850,
      "percentage": 60.0
    },
    {
      "region": "Europe",
      "country": "United Kingdom",
      "revenue": 30000.00,
      "orders": 320,
      "percentage": 24.0
    }
  ],
  "total_revenue": 125000.50
}
```

## Customer Endpoints

### Customer Segmentation

#### Get RFM Segmentation
```http
GET /api/v1/customers/segmentation/rfm
```

**Query Parameters**:
- `segment` (string): Filter by segment name
- `min_value` (float): Minimum customer value
- `limit`, `offset`: Pagination

**Response**:
```json
{
  "segments": [
    {
      "segment": "Champions",
      "description": "High value, frequent, recent customers",
      "customer_count": 450,
      "avg_recency": 15,
      "avg_frequency": 12,
      "avg_monetary": 850.00,
      "percentage": 15.0
    },
    {
      "segment": "Loyal Customers",
      "description": "Regular customers with good value",
      "customer_count": 680,
      "avg_recency": 25,
      "avg_frequency": 8,
      "avg_monetary": 520.00,
      "percentage": 22.7
    }
  ],
  "total_customers": 3000,
  "metadata": {
    "analysis_date": "2024-01-15",
    "rfm_periods": {
      "recency_days": 365,
      "frequency_orders": "all_time",
      "monetary_currency": "USD"
    }
  }
}
```

#### Get Customer Lifetime Value
```http
GET /api/v1/customers/clv/summary
```

**Response**:
```json
{
  "summary": {
    "avg_clv": 425.50,
    "median_clv": 285.00,
    "total_customer_value": 1275000.00,
    "high_value_customers": 250
  },
  "distribution": [
    {
      "clv_range": "0-100",
      "customer_count": 800,
      "percentage": 26.7
    },
    {
      "clv_range": "100-500",
      "customer_count": 1500,
      "percentage": 50.0
    }
  ]
}
```

### Churn Prediction

#### Get Churn Risk Analysis
```http
GET /api/v1/customers/churn/risk-analysis
```

**Response**:
```json
{
  "risk_summary": {
    "high_risk_customers": 125,
    "medium_risk_customers": 340,
    "low_risk_customers": 2535,
    "churn_rate_prediction": 8.2
  },
  "risk_factors": [
    {
      "factor": "Days since last purchase",
      "importance": 0.35,
      "description": "Time since customer's last transaction"
    },
    {
      "factor": "Purchase frequency decline",
      "importance": 0.28,
      "description": "Reduction in purchase frequency"
    }
  ]
}
```

#### Get At-Risk Customers
```http
GET /api/v1/customers/churn/at-risk
```

**Query Parameters**:
- `risk_level` (string): `high`, `medium`, `low`
- `limit`, `offset`: Pagination

**Response**:
```json
{
  "customers": [
    {
      "customer_id": "CUST_001",
      "email": "customer@example.com",
      "risk_score": 0.85,
      "risk_level": "high",
      "last_purchase_date": "2024-01-01",
      "predicted_churn_date": "2024-02-15",
      "recommended_actions": [
        "Send personalized offer",
        "Customer service outreach"
      ]
    }
  ],
  "total_count": 125,
  "pagination": {
    "limit": 20,
    "offset": 0,
    "has_next": true
  }
}
```

## Fraud Detection Endpoints

### Fraud Alerts

#### Get Recent Fraud Alerts
```http
GET /api/v1/fraud/alerts
```

**Query Parameters**:
- `severity` (string): `high`, `medium`, `low`
- `status` (string): `open`, `investigating`, `resolved`, `false_positive`
- `start_date`, `end_date`: Date range
- `limit`, `offset`: Pagination

**Response**:
```json
{
  "alerts": [
    {
      "alert_id": "ALERT_001",
      "transaction_id": "TXN_12345",
      "customer_id": "CUST_789",
      "alert_type": "velocity_fraud",
      "severity": "high",
      "risk_score": 0.92,
      "status": "open",
      "created_at": "2024-01-15T10:30:00Z",
      "description": "Multiple high-value transactions in short time",
      "triggers": [
        "Transaction velocity exceeded threshold",
        "Unusual spending pattern detected"
      ]
    }
  ],
  "summary": {
    "total_alerts": 15,
    "open_alerts": 8,
    "high_severity": 3
  }
}
```

#### Get Fraud Alert Details
```http
GET /api/v1/fraud/alerts/{alert_id}
```

**Response**:
```json
{
  "alert_id": "ALERT_001",
  "transaction_details": {
    "transaction_id": "TXN_12345",
    "amount": 2500.00,
    "currency": "USD",
    "timestamp": "2024-01-15T10:25:00Z",
    "merchant": "Electronics Store",
    "payment_method": "credit_card"
  },
  "customer_profile": {
    "customer_id": "CUST_789",
    "avg_transaction_amount": 150.00,
    "transaction_frequency": "weekly",
    "account_age_days": 180
  },
  "risk_analysis": {
    "risk_score": 0.92,
    "risk_factors": [
      {
        "factor": "Transaction amount anomaly",
        "score": 0.45,
        "description": "Amount 16x higher than average"
      }
    ]
  },
  "investigation": {
    "status": "investigating",
    "assigned_to": "fraud_analyst_1",
    "notes": "Contacted customer for verification"
  }
}
```

### Fraud Rules Management

#### Get Active Fraud Rules
```http
GET /api/v1/fraud/rules
```

**Response**:
```json
{
  "rules": [
    {
      "rule_id": "RULE_001",
      "name": "High Value Transaction",
      "description": "Flag transactions above $1000",
      "type": "threshold",
      "status": "active",
      "conditions": {
        "transaction_amount": {
          "operator": "greater_than",
          "value": 1000.00
        }
      },
      "actions": ["create_alert", "require_verification"],
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}
```

#### Create Fraud Rule
```http
POST /api/v1/fraud/rules
```

**Request Body**:
```json
{
  "name": "Velocity Check - Daily Limit",
  "description": "Flag customers with >5 transactions per day",
  "type": "velocity",
  "conditions": {
    "transaction_count": {
      "operator": "greater_than",
      "value": 5,
      "time_window": "24h"
    }
  },
  "actions": ["create_alert", "temporary_block"],
  "severity": "medium"
}
```

## Real-time Endpoints

### System Health

#### Get System Health
```http
GET /api/v1/realtime/system/health
```

**Response**:
```json
{
  "overall_status": "healthy",
  "components": {
    "database": {
      "status": "healthy",
      "response_time_ms": 15,
      "connections": {
        "active": 8,
        "idle": 12,
        "max": 50
      }
    },
    "kafka": {
      "status": "healthy",
      "topics": {
        "transactions": {
          "partition_count": 12,
          "lag": 0
        }
      }
    },
    "redis": {
      "status": "healthy",
      "memory_usage": "45%",
      "hit_rate": 0.92
    }
  },
  "timestamp": "2024-01-15T10:00:00Z"
}
```

### Business KPIs

#### Get Real-time KPIs
```http
GET /api/v1/realtime/kpis
```

**Response**:
```json
{
  "kpis": {
    "current_revenue": {
      "value": 15750.00,
      "period": "today",
      "change_percent": 8.5
    },
    "active_users": {
      "value": 1250,
      "period": "last_hour",
      "change_percent": 12.0
    },
    "conversion_rate": {
      "value": 3.2,
      "period": "today",
      "change_percent": -0.3
    }
  },
  "timestamp": "2024-01-15T10:00:00Z"
}
```

### Streaming Metrics

#### Get Streaming Pipeline Status
```http
GET /api/v1/realtime/streaming/status
```

**Response**:
```json
{
  "pipelines": [
    {
      "name": "transaction_processing",
      "status": "running",
      "throughput": {
        "events_per_second": 1250,
        "avg_latency_ms": 45
      },
      "health": {
        "error_rate": 0.001,
        "backlog": 0
      }
    }
  ],
  "kafka_topics": [
    {
      "topic": "transactions",
      "partitions": 12,
      "total_lag": 0,
      "rate": 1200
    }
  ]
}
```

## Cache Management

### Cache Statistics

#### Get Cache Statistics
```http
GET /api/v1/cache/stats
```

**Response**:
```json
{
  "redis_stats": {
    "memory_usage": "256MB",
    "memory_usage_percent": 45.5,
    "hit_rate": 0.92,
    "total_operations": 125000,
    "connected_clients": 15
  },
  "cache_categories": {
    "analytics": {
      "hit_rate": 0.95,
      "key_count": 450,
      "avg_ttl": 3600
    },
    "customer_data": {
      "hit_rate": 0.88,
      "key_count": 1200,
      "avg_ttl": 1800
    }
  }
}
```

#### Invalidate Cache
```http
DELETE /api/v1/cache/invalidate
```

**Request Body**:
```json
{
  "pattern": "analytics:revenue:*",
  "reason": "Data update"
}
```

## Error Handling

### Standard Error Format

All API errors follow a consistent format:

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Human readable error message",
    "details": {
      "field": "Specific error details",
      "validation_errors": []
    }
  }
}
```

### Common HTTP Status Codes

| Status Code | Description | Example Scenarios |
|-------------|-------------|-------------------|
| 200 | OK | Successful GET request |
| 201 | Created | Successful POST request |
| 400 | Bad Request | Invalid request parameters |
| 401 | Unauthorized | Missing or invalid authentication |
| 403 | Forbidden | Insufficient permissions |
| 404 | Not Found | Resource doesn't exist |
| 422 | Unprocessable Entity | Validation errors |
| 429 | Too Many Requests | Rate limit exceeded |
| 500 | Internal Server Error | Server-side error |
| 502 | Bad Gateway | Upstream service error |
| 503 | Service Unavailable | System maintenance |

### Error Examples

#### Authentication Error
```json
{
  "error": {
    "code": "AUTHENTICATION_FAILED",
    "message": "Invalid credentials provided",
    "details": null
  }
}
```

#### Validation Error
```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Request validation failed",
    "details": [
      {
        "field": "start_date",
        "message": "Date format must be YYYY-MM-DD"
      }
    ]
  }
}
```

#### Rate Limiting Error
```json
{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Too many requests",
    "details": {
      "limit": 1000,
      "window": "1 hour",
      "retry_after": 3600
    }
  }
}
```

## Rate Limiting

The API implements rate limiting to ensure fair usage:

- **Authenticated Users**: 1000 requests per hour
- **API Keys**: 5000 requests per hour (configurable)
- **Unauthenticated**: 100 requests per hour
- **Admin Users**: 10000 requests per hour

Rate limit headers are included in responses:

```
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 995
X-RateLimit-Reset: 1642251600
```

## Pagination

Most list endpoints support pagination:

**Query Parameters**:
- `limit` (integer): Number of items (max 100, default 20)
- `offset` (integer): Starting position (default 0)

**Response Format**:
```json
{
  "items": [...],
  "pagination": {
    "total_count": 1500,
    "limit": 20,
    "offset": 0,
    "has_next": true,
    "has_previous": false,
    "next_url": "/api/v1/customers?limit=20&offset=20",
    "previous_url": null
  }
}
```

## Data Export

### Export Analytics Data
```http
POST /api/v1/analytics/export
```

**Request Body**:
```json
{
  "export_type": "revenue_report",
  "format": "csv",
  "start_date": "2024-01-01",
  "end_date": "2024-01-31",
  "filters": {
    "category": "Electronics",
    "region": "North America"
  }
}
```

**Response**:
```json
{
  "export_id": "EXPORT_123",
  "status": "processing",
  "estimated_completion": "2024-01-15T10:05:00Z",
  "download_url": null
}
```

### Check Export Status
```http
GET /api/v1/analytics/export/{export_id}/status
```

**Response**:
```json
{
  "export_id": "EXPORT_123",
  "status": "completed",
  "file_size": "2.5MB",
  "row_count": 15000,
  "download_url": "https://api.example.com/downloads/export_123.csv",
  "expires_at": "2024-01-22T10:00:00Z"
}
```

## Webhooks

### Configure Webhooks
```http
POST /api/v1/webhooks
```

**Request Body**:
```json
{
  "url": "https://your-app.com/webhooks/fraud-alerts",
  "events": ["fraud.alert.created", "fraud.alert.resolved"],
  "secret": "webhook_secret_key",
  "active": true
}
```

### Webhook Events

| Event | Description | Payload |
|-------|-------------|---------|
| `fraud.alert.created` | New fraud alert | Alert object |
| `fraud.alert.resolved` | Alert resolved | Alert object |
| `customer.segment.changed` | Customer moved segments | Customer object |
| `system.health.degraded` | System health issue | Health status |

## SDK and Integration Examples

### Python SDK Example
```python
import requests
from datetime import datetime, timedelta

class ECAPClient:
    def __init__(self, base_url, api_key):
        self.base_url = base_url
        self.headers = {
            'X-API-Key': api_key,
            'Content-Type': 'application/json'
        }

    def get_revenue_overview(self, start_date, end_date, granularity='daily'):
        url = f"{self.base_url}/api/v1/analytics/revenue/overview"
        params = {
            'start_date': start_date.isoformat()[:10],
            'end_date': end_date.isoformat()[:10],
            'granularity': granularity
        }
        response = requests.get(url, headers=self.headers, params=params)
        return response.json()

# Usage
client = ECAPClient('http://localhost:8000', 'your_api_key')
revenue_data = client.get_revenue_overview(
    start_date=datetime.now() - timedelta(days=30),
    end_date=datetime.now()
)
```

### JavaScript/Node.js Example
```javascript
const axios = require('axios');

class ECAPClient {
    constructor(baseURL, apiKey) {
        this.client = axios.create({
            baseURL: baseURL,
            headers: {
                'X-API-Key': apiKey,
                'Content-Type': 'application/json'
            }
        });
    }

    async getFraudAlerts(filters = {}) {
        try {
            const response = await this.client.get('/api/v1/fraud/alerts', {
                params: filters
            });
            return response.data;
        } catch (error) {
            throw new Error(`API Error: ${error.response.data.error.message}`);
        }
    }
}

// Usage
const client = new ECAPClient('http://localhost:8000', 'your_api_key');
client.getFraudAlerts({ severity: 'high', status: 'open' })
    .then(data => console.log(data))
    .catch(error => console.error(error));
```

### cURL Examples

#### Get Customer Segmentation
```bash
curl -X GET "http://localhost:8000/api/v1/customers/segmentation/rfm" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json"
```

#### Create Fraud Rule
```bash
curl -X POST "http://localhost:8000/api/v1/fraud/rules" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Large Transaction Alert",
    "description": "Alert for transactions over $5000",
    "conditions": {
      "transaction_amount": {
        "operator": "greater_than",
        "value": 5000.00
      }
    },
    "actions": ["create_alert", "require_manual_review"]
  }'
```

## Performance and Optimization

### Caching Strategy

The API implements multi-level caching:

1. **Application Cache**: In-memory caching for frequently accessed data
2. **Redis Cache**: Distributed caching for complex queries (TTL: 1-60 minutes)
3. **HTTP Cache**: Browser caching with appropriate cache headers

### Response Compression

Responses are automatically compressed using gzip when:
- Response size > 1KB
- Client supports compression
- Content-Type is compressible

### Connection Pooling

- **Database**: Connection pool size: 20-50 connections
- **Redis**: Connection pool size: 10-20 connections
- **HTTP**: Keep-alive connections enabled

## Monitoring and Observability

### Metrics Endpoint

Access Prometheus metrics at `/metrics` for monitoring:

```
# API request metrics
http_requests_total{method="GET",endpoint="/api/v1/analytics/revenue",status="200"} 1500

# Response time metrics
http_request_duration_seconds_bucket{method="GET",endpoint="/api/v1/analytics/revenue",le="0.1"} 1200

# Database connection metrics
database_connections_active 8
database_connections_idle 12
```

### Distributed Tracing

The API supports OpenTelemetry tracing with Jaeger:

- **Trace ID**: Included in response headers
- **Span Tags**: Include endpoint, user ID, request ID
- **Instrumentation**: Automatic for HTTP, database, Redis, Kafka

### Health Checks

Multiple health check endpoints:

- `/health`: Basic API health
- `/api/v1/realtime/system/health`: Comprehensive system health
- `/api/v1/health/detailed`: Detailed component health with dependencies

## Security Considerations

### Input Validation

- All inputs are validated using Pydantic models
- SQL injection prevention through parameterized queries
- XSS protection through output encoding
- CSRF protection for state-changing operations

### Data Privacy

- PII data is masked in logs
- Data anonymization for analytics
- GDPR compliance features
- Audit logging for data access

### Network Security

- HTTPS enforced in production
- CORS properly configured
- Request size limits enforced
- Rate limiting per IP/user

## Deployment and Environment Configuration

### Environment Variables

```bash
# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/ecap
REDIS_URL=redis://localhost:6379/0

# Security
SECRET_KEY=your-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# API Configuration
HOST=0.0.0.0
PORT=8000
ENVIRONMENT=production
LOG_LEVEL=info

# External Services
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
JAEGER_ENDPOINT=http://localhost:14268/api/traces
```

### Docker Deployment

```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY src/ ./src/
EXPOSE 8000

CMD ["uvicorn", "src.api.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### Health Check Configuration

```yaml
# docker-compose.yml
services:
  api:
    build: .
    ports:
      - "8000:8000"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
```

This comprehensive API documentation provides developers with all the information needed to integrate with the E-Commerce Analytics Platform API, including authentication, endpoints, examples, error handling, and best practices.
